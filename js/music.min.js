!function(t,i){t.addEventListener("load",function(){i(t).init()},!1)}(window,function(t){return{getId:function(t){return document.getElementById(t)},getClass:function(t,i){var o=null,a=[];o=void 0!=i?i:document;for(var s=new RegExp("\\b"+t+"\\b","i"),n=o.getElementsByTagName("*"),e=0;e<n.length;e++)s.test(n[e].className)&&a.push(n[e]);return a},addClass:function(t,i,o){var a=t.className.split(" "),s=a.indexOf(o);s>-1&&(a[s]=i),t.className=a.join(" ")},changeNum:function(t){return 1*t>9?t:"0"+t},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},step:1,flag:!1,rotateNum:0,audioTimer:null,audioDuration:0,soundCtrFlag:!1,soundStep:0,init:function(){this.audio=this.getClass("audio-music")[0],this.QQ=this.getClass("qq")[0],this.audios(),this.Events(),this.ImgRotate=!1;var t=this;t.audioMusic.addEventListener("timeupdate",function(){t.audioDuration=parseInt(t.audioMusic.duration,10);var i=parseInt(t.audioMusic.currentTime,10);t.audioLine.style.width=parseInt(i/t.audioDuration*250,10)+"px",t.audioDuration&&"number"==typeof t.audioDuration&&(t.audioTime.innerHTML=t.changeNum(Math.floor((t.audioDuration-i)/60))+":"+t.changeNum((t.audioDuration-i)%60)),t.ImgRotate||(t.ImgRotate=!0,t._play())}),t.audioMusic.addEventListener("waiting",function(){t.ImgRotate=!1,clearInterval(t.audioTimer)},!1),t.audioMusic.addEventListener("ended",function(){t.jump(!0)},!1)},audios:function(){this.audioMusic=this.getClass("audio-music")[0],this.audioImg=this.getClass("audio-img")[0].getElementsByTagName("img")[0],this.audioTitle=this.getClass("audio-title")[0],this.audioTime=this.getClass("audio-time")[0],this.audioImgBtn=this.getClass("audio-imgbtn")[0],this.audioLine=this.getClass("line-on")[0],this.sound=this.getClass("sound")[0],this.soundControl=this.getClass("sound-Control")[0],this.soundSlide=this.getClass("sound-slide")[0],this.audioFace()},audioFace:function(){this.audioImg.src=json[this.step-1].imgsrc,this.audioMusic.src=json[this.step-1].music,this.audioTitle.innerHTML="<p>"+json[this.step-1].title+"</p><span>"+json[this.step-1].author+"</span>",this.audioTime.innerHTML=json[this.step-1].time},jump:function(t){var i=this;t?(i.step++,i.step>json.length&&(i.step=1)):(i.step--,i.step<1&&(i.step=json.length)),i.rotateNum=0,i.audioFace(),i.audioMusic.play(),i._play()},_play:function(){var t=this;clearInterval(t.audioTimer),t.audioTimer=setInterval(function(){t.rotateNum++,t.rotateNum>=3600&&(t.rotateNum=1),t.flag&&(t.audioImg.style.WebkitTransform="rotate("+Math.ceil(t.rotateNum/10)+"deg)",t.audioImg.style.MozTransform="rotate("+Math.ceil(t.rotateNum/10)+"deg)",t.audioImg.style.OTransform="rotate("+Math.ceil(t.rotateNum/10)+"deg)",t.audioImg.style.transform="rotate("+Math.ceil(t.rotateNum/10)+"deg)")},1)},Events:function(){var i=this;this.audioUp=this.getClass("audio-up")[0],this.audioPlay=this.getClass("audio-play")[0],this.audioNext=this.getClass("audio-next")[0],this.audioPlay.onclick=function(){var t=this;i.flag?(i.audioMusic.pause(),i.addClass(t,"btn-off","btn-on"),i.addClass(i.audioImgBtn,"imgbtn-off","imgbtn-on"),i.flag=!1):(i.addClass(t,"btn-on","btn-off"),i.addClass(i.audioImgBtn,"imgbtn-on","imgbtn-off"),i.audioMusic.play(),i.flag=!0)},this.audioImgBtn.onclick=function(){var t=this;i.flag?(i.audioMusic.pause(),i.addClass(t,"imgbtn-off","imgbtn-on"),i.addClass(i.audioPlay,"btn-off","btn-on"),i.flag=!1):(i.addClass(t,"imgbtn-on","imgbtn-off"),i.addClass(i.audioPlay,"btn-on","btn-off"),i.audioMusic.play(),i.flag=!0)},this.audioUp.onclick=function(){i.flag&&i.jump(!1)},this.audioNext.onclick=function(){i.flag&&i.jump(!0)},this.soundSlide.onmousedown=function(o){var a=o||t.event,s=this,n=(o.clientX-s.offsetLeft,o.clientY-s.offsetTop);document.onmousemove=function(o){var a=o||t.event,e=o.clientY-n-50;s.style.left="0px",e<=-50?e=-50:e>=0&&(e=0),i.audioMusic.volume=(e/-50).toFixed(1),i.soundSlide.style.top=Math.floor(e)+"px",i.stopPropagation(a)},document.onmouseup=function(o){var a=o||t.event;document.onmousemove=null,document.onmouseup=null,i.stopPropagation(a)},i.stopPropagation(a)},this.sound.onclick=function(o){var a=o||t.event;if(i.flag){switch(i.soundStep++,i.soundStep){case 1:i.soundCtrFlag=!0,i.audioMusic.volume=1,i.soundControl.style.display="block",i.addClass(this,"sound-on","sound-off");break;case 2:i.soundCtrFlag=!1,i.soundControl.style.display="none";break;case 3:i.audioMusic.volume=0,i.soundStep=0,i.addClass(this,"sound-off","sound-on")}i.stopPropagation(a)}},document.onclick=function(o){var a=o||t.event;i.flag&&i.soundCtrFlag&&(i.soundCtrFlag=!1,i.soundControl.style.display="none",i.stopPropagation(a))},this.QQ.onclick=function(){t.location.href="http://wpa.qq.com/msgrd?v=3&uin=1575259223&site=qq&menu=yes"}}}});